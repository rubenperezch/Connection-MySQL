<!DOCTYPE html>
<html lang="en">
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <h1>Todos for today:</h1>
    <link rel = "stylesheet" th:href = "@{/style.css}">
</head>
<body>

<form th:action = "@{/search}" action = "#" method = "post">
    <input type="text" placeholder="...search bar" name="search">
    <input type="submit" value="Search">
</form>

<table>
    <tr>
        <th>Id</th>
        <th>Title</th>
        <th>Urgent</th>
        <th>Done</th>
        <th>Assignee</th>
    </tr>
    <div th:each="todo : ${todos}">
    <tr>

        <td th:text="${todo.id}"></td>
        <td th:text="${todo.title}"></td>
        <td th:text="${todo.urgent}"></td>
        <td th:text="${todo.done}"></td>
        <td>
            <a th:href="'/' + ${todo.assignee.getId()} + '/todosAssignee'" id="id" th:text="${todo.assignee} != null ? ${todo.assignee.getName()} : 'No assignee'"></a>
        </td>
        <td>
            <a th:href="'/delete?id=' + ${todo.id}" id="id">delete</a>
        </td>

        <td>
                <a th:href="'/' + ${todo.id} + '/edit'">edit</a>

        </td>
    </tr>
    </div>
</table>

<div>            <button type="button" th:onclick="|window.location.href='/add'|">ADD TODO</button>         </div>
<div>            <button type="button" th:onclick="|window.location.href='/assignees'|">ASSIGNEES</button>         </div>


</body>
</html>